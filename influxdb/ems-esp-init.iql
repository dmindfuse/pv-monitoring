CREATE CONTINUOUS QUERY "cq_ems_esp_weekly" ON telegraf BEGIN SELECT MAX("boilhystoff") as "boilhystoff", MAX("boilhyston") as "boilhyston", MAX("burn2workmin") as "burn2workmin", MAX("burnmaxpower") as "burnmaxpower", MAX("burnminperiod") as "burnminperiod", MAX("burnminpower") as "burnminpower", MAX("burnstarts") as "burnstarts", MAX("burnworkmin") as "burnworkmin", MAX("collectortemp") as "collectortemp", MAX("curburnpow") as "curburnpow", MAX("curflowtemp") as "curflowtemp", MAX("currtemp") as "currtemp", MAX("cylbottomtemp") as "cylbottomtemp", MAX("cylmaxtemp") as "cylmaxtemp", MAX("ecotemp") as "ecotemp", MAX("energylasthour") as "energylasthour", MAX("flowsettemp") as "flowsettemp", MAX("flowtemphc") as "flowtemphc", MAX("heatingpumpmod") as "heatingpumpmod", MAX("heatingtemp") as "heatingtemp", MAX("heattemp") as "heattemp", MAX("heatworkmin") as "heatworkmin", MAX("maintenancetime") as "maintenancetime", MAX("nofrosttemp") as "nofrosttemp", MAX("outdoortemp") as "outdoortemp", MAX("pumpdelay") as "pumpdelay", MAX("pumpmodmax") as "pumpmodmax", MAX("pumpmodmin") as "pumpmodmin", MAX("pumpworktime") as "pumpworktime", MAX("selburnpow") as "selburnpow", MAX("selflowtemp") as "selflowtemp", MAX("seltemp") as "seltemp", MAX("servicecodenumber") as "servicecodenumber", MAX("targetflowtemp") as "targetflowtemp", MAX("ubauptime") as "ubauptime", MAX("valvestatus") as "valvestatus", MAX("wwcurflow") as "wwcurflow", MAX("wwcurtemp") as "wwcurtemp", MAX("wwcurtemp2") as "wwcurtemp2", MAX("wwdisinfectiontemp") as "wwdisinfectiontemp", MAX("wwflowtempoffset") as "wwflowtempoffset", MAX("wwhystoff") as "wwhystoff", MAX("wwhyston") as "wwhyston", MAX("wwseltemp") as "wwseltemp", MAX("wwsettemp") as "wwsettemp", MAX("wwstarts") as "wwstarts", MAX("wwworkm") as "wwworkm" INTO "weekly"."emsesp" FROM "daily"."emsesp" GROUP BY time(1m) END
CREATE CONTINUOUS QUERY "cq_ems_esp_monthly" ON telegraf BEGIN SELECT MAX("boilhystoff") as "boilhystoff", MAX("boilhyston") as "boilhyston", MAX("burn2workmin") as "burn2workmin", MAX("burnmaxpower") as "burnmaxpower", MAX("burnminperiod") as "burnminperiod", MAX("burnminpower") as "burnminpower", MAX("burnstarts") as "burnstarts", MAX("burnworkmin") as "burnworkmin", MAX("collectortemp") as "collectortemp", MAX("curburnpow") as "curburnpow", MAX("curflowtemp") as "curflowtemp", MAX("currtemp") as "currtemp", MAX("cylbottomtemp") as "cylbottomtemp", MAX("cylmaxtemp") as "cylmaxtemp", MAX("ecotemp") as "ecotemp", MAX("energylasthour") as "energylasthour", MAX("flowsettemp") as "flowsettemp", MAX("flowtemphc") as "flowtemphc", MAX("heatingpumpmod") as "heatingpumpmod", MAX("heatingtemp") as "heatingtemp", MAX("heattemp") as "heattemp", MAX("heatworkmin") as "heatworkmin", MAX("maintenancetime") as "maintenancetime", MAX("nofrosttemp") as "nofrosttemp", MAX("outdoortemp") as "outdoortemp", MAX("pumpdelay") as "pumpdelay", MAX("pumpmodmax") as "pumpmodmax", MAX("pumpmodmin") as "pumpmodmin", MAX("pumpworktime") as "pumpworktime", MAX("selburnpow") as "selburnpow", MAX("selflowtemp") as "selflowtemp", MAX("seltemp") as "seltemp", MAX("servicecodenumber") as "servicecodenumber", MAX("targetflowtemp") as "targetflowtemp", MAX("ubauptime") as "ubauptime", MAX("valvestatus") as "valvestatus", MAX("wwcurflow") as "wwcurflow", MAX("wwcurtemp") as "wwcurtemp", MAX("wwcurtemp2") as "wwcurtemp2", MAX("wwdisinfectiontemp") as "wwdisinfectiontemp", MAX("wwflowtempoffset") as "wwflowtempoffset", MAX("wwhystoff") as "wwhystoff", MAX("wwhyston") as "wwhyston", MAX("wwseltemp") as "wwseltemp", MAX("wwsettemp") as "wwsettemp", MAX("wwstarts") as "wwstarts", MAX("wwworkm") as "wwworkm" INTO "monthly"."emsesp" FROM "daily"."emsesp" GROUP BY time(10m) END
CREATE CONTINUOUS QUERY "cq_ems_esp_yearly" ON telegraf BEGIN SELECT MAX("boilhystoff") as "boilhystoff", MAX("boilhyston") as "boilhyston", MAX("burn2workmin") as "burn2workmin", MAX("burnmaxpower") as "burnmaxpower", MAX("burnminperiod") as "burnminperiod", MAX("burnminpower") as "burnminpower", MAX("burnstarts") as "burnstarts", MAX("burnworkmin") as "burnworkmin", MAX("collectortemp") as "collectortemp", MAX("curburnpow") as "curburnpow", MAX("curflowtemp") as "curflowtemp", MAX("currtemp") as "currtemp", MAX("cylbottomtemp") as "cylbottomtemp", MAX("cylmaxtemp") as "cylmaxtemp", MAX("ecotemp") as "ecotemp", MAX("energylasthour") as "energylasthour", MAX("flowsettemp") as "flowsettemp", MAX("flowtemphc") as "flowtemphc", MAX("heatingpumpmod") as "heatingpumpmod", MAX("heatingtemp") as "heatingtemp", MAX("heattemp") as "heattemp", MAX("heatworkmin") as "heatworkmin", MAX("maintenancetime") as "maintenancetime", MAX("nofrosttemp") as "nofrosttemp", MAX("outdoortemp") as "outdoortemp", MAX("pumpdelay") as "pumpdelay", MAX("pumpmodmax") as "pumpmodmax", MAX("pumpmodmin") as "pumpmodmin", MAX("pumpworktime") as "pumpworktime", MAX("selburnpow") as "selburnpow", MAX("selflowtemp") as "selflowtemp", MAX("seltemp") as "seltemp", MAX("servicecodenumber") as "servicecodenumber", MAX("targetflowtemp") as "targetflowtemp", MAX("ubauptime") as "ubauptime", MAX("valvestatus") as "valvestatus", MAX("wwcurflow") as "wwcurflow", MAX("wwcurtemp") as "wwcurtemp", MAX("wwcurtemp2") as "wwcurtemp2", MAX("wwdisinfectiontemp") as "wwdisinfectiontemp", MAX("wwflowtempoffset") as "wwflowtempoffset", MAX("wwhystoff") as "wwhystoff", MAX("wwhyston") as "wwhyston", MAX("wwseltemp") as "wwseltemp", MAX("wwsettemp") as "wwsettemp", MAX("wwstarts") as "wwstarts", MAX("wwworkm") as "wwworkm" INTO "yearly"."emsesp" FROM "daily"."emsesp" GROUP BY time(30m) END
CREATE CONTINUOUS QUERY "cq_ems_esp_forever" ON telegraf BEGIN SELECT MAX("boilhystoff") as "boilhystoff", MAX("boilhyston") as "boilhyston", MAX("burn2workmin") as "burn2workmin", MAX("burnmaxpower") as "burnmaxpower", MAX("burnminperiod") as "burnminperiod", MAX("burnminpower") as "burnminpower", MAX("burnstarts") as "burnstarts", MAX("burnworkmin") as "burnworkmin", MAX("collectortemp") as "collectortemp", MAX("curburnpow") as "curburnpow", MAX("curflowtemp") as "curflowtemp", MAX("currtemp") as "currtemp", MAX("cylbottomtemp") as "cylbottomtemp", MAX("cylmaxtemp") as "cylmaxtemp", MAX("ecotemp") as "ecotemp", MAX("energylasthour") as "energylasthour", MAX("flowsettemp") as "flowsettemp", MAX("flowtemphc") as "flowtemphc", MAX("heatingpumpmod") as "heatingpumpmod", MAX("heatingtemp") as "heatingtemp", MAX("heattemp") as "heattemp", MAX("heatworkmin") as "heatworkmin", MAX("maintenancetime") as "maintenancetime", MAX("nofrosttemp") as "nofrosttemp", MAX("outdoortemp") as "outdoortemp", MAX("pumpdelay") as "pumpdelay", MAX("pumpmodmax") as "pumpmodmax", MAX("pumpmodmin") as "pumpmodmin", MAX("pumpworktime") as "pumpworktime", MAX("selburnpow") as "selburnpow", MAX("selflowtemp") as "selflowtemp", MAX("seltemp") as "seltemp", MAX("servicecodenumber") as "servicecodenumber", MAX("targetflowtemp") as "targetflowtemp", MAX("ubauptime") as "ubauptime", MAX("valvestatus") as "valvestatus", MAX("wwcurflow") as "wwcurflow", MAX("wwcurtemp") as "wwcurtemp", MAX("wwcurtemp2") as "wwcurtemp2", MAX("wwdisinfectiontemp") as "wwdisinfectiontemp", MAX("wwflowtempoffset") as "wwflowtempoffset", MAX("wwhystoff") as "wwhystoff", MAX("wwhyston") as "wwhyston", MAX("wwseltemp") as "wwseltemp", MAX("wwsettemp") as "wwsettemp", MAX("wwstarts") as "wwstarts", MAX("wwworkm") as "wwworkm" INTO "forever"."emsesp" FROM "daily"."emsesp" GROUP BY time(1h) END